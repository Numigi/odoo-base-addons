<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <data>

      <record id="staging_job_done_template" model="mail.template">
        <field name="name">Staging Job Done</field>
        <field name="model_id" ref="numikube_staging.model_staging_job"/>
        <field name="partner_to">${object.partner_id.id}</field>
        <field name="lang">${object.partner_id.lang}</field>
        <field name="auto_delete" eval="True"/>
        <field name="subject">Your staging database is ready (${object.database_name})</field>
        <field name="body_html" type="html">
    <div style="line-height:2em; margin: 0px; padding: 0px; font-size: 13px;">
      <p>
        Hello,

        <br/>
        Your staging database is ready for
        <a href="${object.environment_id.database_selector_url}" target="_blank">
          ${object.environment_id.display_name}
        </a>.

        <br/>
        The name of your database is:
        <span>
          ${object.database_name}
        </span>

        <br/>
        Best regards,
      </p>
    </div>
        </field>
      </record>

      <record id="staging_job_failed_template" model="mail.template">
        <field name="name">Staging Job Failed</field>
        <field name="model_id" ref="numikube_staging.model_staging_job"/>
        <field name="partner_to">${object.partner_id.id}</field>
        <field name="lang">${object.partner_id.lang}</field>
        <field name="auto_delete" eval="True"/>
        <field name="subject">Your staging request terminated in error (${object.database_name})</field>
        <field name="body_html" type="html">
    <div style="line-height:2em; margin: 0px; padding: 0px; font-size: 13px;">
      <p>
        Hello,

        <br/>
        Your staging database request for ${object.environment_id.display_name}
        terminated in error.

        <br/>
        You may issue a ticket on the
        <a href="https://portail.numigi.net/my/new_task" target="_blank">Client Portal</a>
        so that we can analyse the cause of this error.

        <br/>
        Depending on the error, you may also wait half an hour and re-run the staging job.

        <br/>
        After two successive failures running a job, please submit a ticket.

        <br/>
        Best regards,
      </p>
    </div>
        </field>
      </record>

  </data>

</odoo>
